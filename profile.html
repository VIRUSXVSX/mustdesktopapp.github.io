<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">


<title>Profile User</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<link flex href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
<style type="text/css">
    
        /* Existing styles */
        body {
        margin: 0;
        padding-top: 40px;
        color: #2e323c;
        background: #f5f6fa;
        position: relative;
        height: 100%;
    }
    :root {
        --card-background: #ffffff;
        --card-border-color: #ffffff;
    }
    @media (prefers-color-scheme: dark) {
        :root {
            --card-background: #2b2b2b;
            --card-border-color: #2c2c2c;
        }
    }
    .account-settings .user-profile {
        margin: 0 0 1rem 0;
        padding-bottom: 1rem;
        text-align: center;
    }
    .account-settings .user-profile .user-avatar {
        margin: 0 0 1rem 0;
    }
    .account-settings .user-profile .user-avatar img {
        width: 90px;
        height: 90px;
        border-radius: 100px;
    }
    input[type="text"], input[type="file"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    .account-settings .user-profile h6.user-email {
        margin: 0;
        font-size: 0.8rem;
        font-weight: 400;
        color: #9fa8b9;
    }
    .account-settings .about {
        margin: 2rem 0 0 0;
        text-align: center;
    }
    .account-settings .about h5 {
        margin: 0 0 15px 0;
        color: #007ae1;
    }
    .account-settings .about p {
        font-size: 0.825rem;
    }
    .form-control {
        border: 1px solid #cfd1d8;
        border-radius: 2px;
        font-size: .825rem;
        background: #ffffff;
        color: #2e323c;
    }
    .card {
        background: var(--card-background);
        border-radius: 5px;
        border: 1px solid var(--card-border-color);
        margin-bottom: 1rem;
        
    }
    #aboutInput {
        width: 100%;
        height: 100px;
        padding: 10px;
        font-size: 16px;
        font-family: 'Arial', sans-serif;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        resize: vertical;
    }
    #aboutInput:focus {
        border-color: #007bff;
        outline: none;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
    }
    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    .circular-image {
        border-radius: 50%;
        height: 150px;
        width: 150px;
        object-fit: cover;
    }
    .hidden {
        display: none;
    }
    :root {
        --background: rgb(233, 233, 233);
        --color: #000000;
    }
    body {
        background-color: var(--background);
        color: var(--color);
    }
    .darko {
        --background: #000000;
        --color: rgb(233, 233, 233);
    }
    @media (prefers-color-scheme: dark) {
        :root {
            --background: #000000;
            --color: rgb(233, 233, 233);
        }
    }
    .light {
        --background: rgb(233, 233, 233);
        --color: #000000;
    }

/* Import Google font - Poppins */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}
body {
  min-height: 100vh;
  background: var(--background);
}
/* Pre css */
.flex {
  display: flex;
  align-items: center;
}
.nav_image {
  display: flex;
  min-width: 55px;
  justify-content: center;
}
.nav_image img {
  height: 35px;
  width: 35px;
  border-radius: 50%;
  object-fit: cover;
}

/* Sidebar */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 270px;
  background: var(--card-background);
  padding: 15px 10px;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);
  transition: all 0.4s ease;
}
.sidebar.close {
  width: calc(55px + 20px);
}
.logo_items {
  gap: 8px;
}
.logo_name {
  font-size: 22px;
  color: var(--color);
  font-weight: 500px;
  transition: all 0.3s ease;
}
.sidebar.close .logo_name,
.sidebar.close #lock-icon,
.sidebar.close #sidebar-close {
  opacity: 0;
  pointer-events: none;
}
#lock-icon,
#sidebar-close {
  padding: 10px;
  color: #4070f4;
  font-size: 25px;
  cursor: pointer;
  margin-left: -4px;
  transition: all 0.3s ease;
}
#sidebar-close {
  display: none;
  color: var(--color);
}
.menu_container {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  margin-top: 40px;
  overflow-y: auto;
  height: calc(100% - 82px);
}
.menu_container::-webkit-scrollbar {
  display: none;
}
.menu_title {
  position: relative;
  height: 50px;
  width: 55px;
}
.menu_title .title {
  margin-left: 15px;
  transition: all 0.3s ease;
}
.sidebar.close .title {
  opacity: 0;
}
.menu_title .line {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 3px;
  width: 20px;
  border-radius: 25px;
  background:var(--background);
  transition: all 0.3s ease;
}
.menu_title .line {
  opacity: 0;
}
.sidebar.close .line {
  opacity: 1;
}
.item {
  list-style: none;
}
.link {
  text-decoration: none;
  border-radius: 8px;
  margin-bottom: 8px;
  color: var(--color);
}
.link:hover {
  color: #fff;
  background-color: #4070f4;
}
.link span {
  white-space: nowrap;
}
.link i {
  height: 50px;
  min-width: 55px;
  display: flex;
  font-size: 22px;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
}

.sidebar_profile {
  padding-top: 15px;
  margin-top: 15px;
  gap: 15px;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
}
.sidebar_profile .name {
  font-size: 18px;
  color: var(--color);
}
.sidebar_profile .email {
  font-size: 15px;
  color: var(--color);
}

/* Navbar */
.navbar {
  max-width: 500px;
  width: 100%;
  position: fixed;
  top: 0;
  left: 60%;
  transform: translateX(-50%);
  background: var(--background);
  padding: 10px 20px;
  border-radius: 0 0 8px 8px;
  justify-content: space-between;
}
#sidebar-open {
  font-size: 30px;
  color: var(--color);
  cursor: pointer;
  margin-right: 20px;
  display: none;
}
.navbar img {
  height: 40px;
  width: 40px;
  margin-left: 20px;
}

/* Responsive */
@media screen and (max-width: 1100px) {
  .navbar {
    left: 65%;
  }
}
@media screen and (max-width: 800px) {
  .sidebar {
    left: 0;
    z-index: 1000;
  }
  .sidebar.close {
    left: -100%;
  }
  #sidebar-close {
    display: block;
  }
  #lock-icon {
    display: none;
  }
  .navbar {
    left: 0;
    max-width: 100%;
    transform: translateX(0%);
  }
  #sidebar-open {
    display: block;
  }
}

</style>
</head>
<body>
    
    <nav class="sidebar unlock">
        <div class="logo_items flex">
         <!--<span class="nav_image">
            <img id="preview" src="#" alt="Profile Picture Preview" class="circular-image hidden">-->
          </span>
          <span class="logo_name"> Must Desktop</span>
          <i class="bx bx-lock-alt" id="lock-icon" title="Unlock Sidebar"></i>
          <i class="bx bx-x" id="sidebar-close"></i>
        </div>
        <div class="menu_container">
          <div class="menu_items">
            <ul class="menu_item">
              <div class="menu_title flex">
                <span class="title">Dashboard</span>
                <span class="line"></span>
              </div>
              <li class="item">
                <a href="index.html" class="link flex">
                  <i class="bx bx-home-alt"></i>
                  <span>Home</span>
                </a>
              </li>
              <li class="item">
                <a href="cours.html" class="link flex">
                  <i class="bx bx-grid-alt" ></i>
                  <img src="" alt="">
                  <span>Courses</span>
                </a>
              </li>
            </ul>
            <!--<ul class="menu_item">
              <div class="menu_title flex">
                <span class="title">Editor</span>
                <span class="line"></span>
              </div>
              <li class="item">
                <a href="#" class="link flex">
                  <i class="bx bxs-magic-wand"></i>
                  <span>Magic Build</span>
                </a>
              </li>
              <li class="item">
                <a href="#" class="link flex">
                  <i class="bx bx-folder"></i>
                  <span>New Projects</span>
                </a>
              </li>
              <li class="item">
                <a href="#" class="link flex">
                  <i class="bx bx-cloud-upload"></i>
                  <span>Upload New</span>
                </a>
              </li>
            </ul>
            <ul class="menu_item">
              <div class="menu_title flex">
                <span class="title">Setting</span>
                <span class="line"></span>
              </div>
              <li class="item">
                <a href="#" class="link flex">
                  <i class="bx bx-flag"></i>
                  <span>Notice Board</span>
                </a>
              </li>
              <li class="item">
                <a href="#" class="link flex">
                  <i class="bx bx-award"></i>
                  <span>Award</span>
                </a>
              </li>-->
              <li class="item">
                <a href="set.html" class="link flex">
                  <i class="bx bx-cog"></i>
                  <span>Setting</span>
                </a>
              </li>
            </ul>
          </div>
          <!--<div class="sidebar_profile flex">
            <span class="nav_image">
                <img id="preview" src="#" alt="Profile Picture Preview" class="circular-image hidden"> -->
            <!--</span>
            <div class="data_text">
              <span class="name">.</span>
              <span class="email">.</span>
            </div>-->
          </div>
        </div>
      </nav>
      <!-- Navbar -->
      <nav class="navbar flex">
        <i class="bx bx-menu" id="sidebar-open"></i>
        <span class="nav_image">
        </span>
      </nav>
  
<div class="container">
<div class="row gutters">
<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
<div class="card h-100">
<div class="card-body">
<div class="account-settings">
<div class="user-profile">
<div class="user-avatar">
    
<img id="preview" src="#" alt="Profile Picture Preview" class="circular-image hidden">
</div>
<h3 id="displayName"></h3>
</div>
<div class="about">
<h5>About</h5>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
<div class="card h-100">
<div class="card-body">
<div class="row gutters">
<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
<h5 class="mb-2 text-primary">User Profile</h5>
</div>
<div class="container">
    <form id="profileForm">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
      </div>
      <div class="form-group">
        <label for="aboutInput">About:</label> <!-- Added label for About section -->
        <textarea id="aboutInput" name="aboutInput" placeholder="Enter your about text here..."></textarea> <!-- Added textarea for About input -->
      </div>
      <div class="form-group">
        <label for="profilePic">Profile Picture:</label>
        <input type="file" id="profilePic" name="profilePic" accept="image/*" class="Visible">
        
      </div>

    </form>
  </div>
</div>
</div>
</div>
<div class="row gutters">
<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
<div class="text-right">
<button type="button" id="deletePic" class="btn btn-danger hidden">Delete Photo</button>
<button type="submit" class="btn btn-primary">Save Profile</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
	
</script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const profileForm = document.getElementById('profileForm');
  const profilePicInput = document.getElementById('profilePic');
  const preview = document.getElementById('preview');
  const deletePic = document.getElementById('deletePic');
  const displayName = document.getElementById('displayName');
  const saveButton = document.querySelector('.btn.btn-primary'); // Select the save button
  const aboutText = document.querySelector('.about p');
  const aboutInput = document.getElementById('aboutInput'); // New About input

  // Handle image preview
  profilePicInput.addEventListener('change', function (e) {
    const file = e.target.files[0];
    if (file && (file.type === 'image/jpeg' || file.type === 'image/png')) {
      const reader = new FileReader();
      reader.onload = function (e) {
        preview.src = e.target.result;
        preview.classList.remove('hidden');
        deletePic.classList.remove('hidden');
      };
      reader.readAsDataURL(file);
    } else {
      alert('Please select a valid image file (JPG or PNG).');
      profilePicInput.value = '';
    }
  });

  // Handle form submission when the Save button is clicked
  saveButton.addEventListener('click', function (e) {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const aboutContent = aboutInput.value; // Capture About input
    const profilePic = preview.src !== '#' ? preview.src : '';

    const userProfile = {
      name: name,
      about: aboutContent, // Save About content
      profilePic: profilePic
    };

    localStorage.setItem('userProfile', JSON.stringify(userProfile));
    alert('Profile saved!');
    window.location.href = 'index.html'; // Redirect to main page after saving
  });

  // Load saved profile
  const savedProfile = JSON.parse(localStorage.getItem('userProfile'));
  if (savedProfile) {
    document.getElementById('name').value = savedProfile.name;
    aboutInput.value = savedProfile.about || ''; // Load saved About text
    aboutText.textContent = savedProfile.about || ''; // Display saved About text
    displayName.textContent = savedProfile.name; // Set h5 text to name
    if (savedProfile.profilePic) {
      preview.src = savedProfile.profilePic;
      preview.classList.remove('hidden');
      deletePic.classList.remove('hidden');
    }
  }

  // Handle delete profile picture
  deletePic.addEventListener('click', function () {
    preview.src = '#';
    preview.classList.add('hidden');
    deletePic.classList.add('hidden');
    profilePicInput.value = ''; // Clear the file input
  });

  // Allow editing profile picture by clicking on the image
  preview.addEventListener('click', function () {
    profilePicInput.click();
  });
});


  </script>
  <script>
    // Selecting the sidebar and buttons
const sidebar = document.querySelector(".sidebar");
const sidebarOpenBtn = document.querySelector("#sidebar-open");
const sidebarCloseBtn = document.querySelector("#sidebar-close");
const sidebarLockBtn = document.querySelector("#lock-icon");

// Function to toggle the lock state of the sidebar
const toggleLock = () => {
  sidebar.classList.toggle("locked");
  // If the sidebar is not locked
  if (!sidebar.classList.contains("locked")) {
    sidebar.classList.add("hoverable");
    sidebarLockBtn.classList.replace("bx-lock-alt", "bx-lock-open-alt");
  } else {
    sidebar.classList.remove("hoverable");
    sidebarLockBtn.classList.replace("bx-lock-open-alt", "bx-lock-alt");
  }
};

// Function to hide the sidebar when the mouse leaves
const hideSidebar = () => {
  if (sidebar.classList.contains("hoverable")) {
    sidebar.classList.add("close");
  }
};

// Function to show the sidebar when the mouse enter
const showSidebar = () => {
  if (sidebar.classList.contains("hoverable")) {
    sidebar.classList.remove("close");
  }
};

// Function to show and hide the sidebar
const toggleSidebar = () => {
  sidebar.classList.toggle("close");
};

// If the window width is less than 800px, close the sidebar and remove hoverability and lock
if (window.innerWidth < 800) {
  sidebar.classList.add("close");
  sidebar.classList.remove("locked");
  sidebar.classList.remove("hoverable");
}

// Adding event listeners to buttons and sidebar for the corresponding actions
sidebarLockBtn.addEventListener("click", toggleLock);
sidebar.addEventListener("mouseleave", hideSidebar);
sidebar.addEventListener("mouseenter", showSidebar);
sidebarOpenBtn.addEventListener("click", toggleSidebar);
sidebarCloseBtn.addEventListener("click", toggleSidebar);
  </script>
</body>
</html>